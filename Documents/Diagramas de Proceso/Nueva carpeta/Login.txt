@startuml
start

:Ingresar credenciales;
if (Credenciales válidas?) then (Sí)
  :Verificar Rol;
  if (Rol es Admin) then (Sí)
    :Mostrar menú de administrador;
    :Realizar acciones de administrador;
  else (No)
    :Mostrar menú de usuario;
    :Realizar acciones de usuario;
  endif
else (No)
  :Mostrar mensaje de error;
  if (¿Crear nueva cuenta?) then (Sí)
    :Redirigir a página de registro;
    :Proceso de registro;
    :Mostrar mensaje de éxito;
  else (No)
    :Volver a ingresar credenciales;
    repeat
      :Ingresar credenciales;
      if (Credenciales válidas?) then (Sí)
        :Verificar Rol;
        if (Rol es Admin) then (Sí)
          :Mostrar menú de administrador;
          :Realizar acciones de administrador;
        else (No)
          :Mostrar menú de usuario;
          :Realizar acciones de usuario;
        endif
      else (No)
        :Mostrar mensaje de error;
        if (¿Crear nueva cuenta?) then (Sí)
          :Redirigir a página de registro;
          :Proceso de registro;
          :Mostrar mensaje de éxito;
        else (No)
          :Volver a ingresar credenciales;
        endif
      endif
    repeat while (Número de intentos < Máximo permitido)
  endif
endif

stop
@enduml
